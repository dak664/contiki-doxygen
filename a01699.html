<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Contiki 2.5: System_timer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>System_timer</h1>
<p>Functions that provide access to the system clock.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16u&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01699.html#gae0b935fd7ac5ee0070e31fb43bf82fba">halInternalStartSystemTimer</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the system tick.  <a href="#gae0b935fd7ac5ee0070e31fb43bf82fba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16u&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01699.html#gacbbf0cd5321a6bd054b7e99c7b492f08">halCommonGetInt16uMillisecondTick</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current system time in system ticks, as a 16-bit value.  <a href="#gacbbf0cd5321a6bd054b7e99c7b492f08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32u&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01699.html#ga7033d63e4ee56452e3e6c67d49f01ef2">halCommonGetInt32uMillisecondTick</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current system time in system ticks, as a 32-bit value.  <a href="#ga7033d63e4ee56452e3e6c67d49f01ef2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16u&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01699.html#ga5aec52f8f5e5b85acacfb41a4a437593">halCommonGetInt16uQuarterSecondTick</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current system time in quarter second ticks, as a 16-bit value.  <a href="#ga5aec52f8f5e5b85acacfb41a4a437593"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Functions that provide access to the system clock. </p>
<p>A single system tick (as returned by <a class="el" href="a01699.html#gacbbf0cd5321a6bd054b7e99c7b492f08" title="Returns the current system time in system ticks, as a 16-bit value.">halCommonGetInt16uMillisecondTick()</a> and <a class="el" href="a01699.html#ga7033d63e4ee56452e3e6c67d49f01ef2" title="Returns the current system time in system ticks, as a 32-bit value.">halCommonGetInt32uMillisecondTick()</a> ) is approximately 1 millisecond.</p>
<ul>
<li>When used with a 32.768kHz crystal, the system tick is 0.976 milliseconds.</li>
</ul>
<ul>
<li>When used with a 3.6864MHz crystal, the system tick is 1.111 milliseconds.</li>
</ul>
<p>A single quarter-second tick (as returned by <a class="el" href="a01699.html#ga5aec52f8f5e5b85acacfb41a4a437593" title="Returns the current system time in quarter second ticks, as a 16-bit value.">halCommonGetInt16uQuarterSecondTick()</a> ) is approximately 0.25 seconds.</p>
<p>The values used by the time support functions will wrap after an interval. The length of the interval depends on the length of the tick and the number of bits in the value. However, there is no issue when comparing time deltas of less than half this interval with a subtraction, if all data types are the same.</p>
<p>See <a class="el" href="a01029.html" title="Header file for system_timer APIs.">system-timer.h</a> for source code. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gacbbf0cd5321a6bd054b7e99c7b492f08"></a><!-- doxytag: member="system&#45;timer.h::halCommonGetInt16uMillisecondTick" ref="gacbbf0cd5321a6bd054b7e99c7b492f08" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16u halCommonGetInt16uMillisecondTick </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current system time in system ticks, as a 16-bit value. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The least significant 16 bits of the current system time, in system ticks.</dd></dl>
<p>Returns the current system time in system ticks, as a 16-bit value.</p>
<p>With 1024 clock ticks per second, a single clock tick occurs every 0.9769625 milliseconds, and a rollover of the 16-bit <a class="el" href="a00086.html" title="A timer.">timer</a> occurs every 64 seconds. </p>

<p>Definition at line <a class="el" href="a01019_source.html#l00035">35</a> of file <a class="el" href="a01019_source.html">system-timer.c</a>.</p>

<p>References <a class="el" href="a01019_source.html#l00050">halCommonGetInt32uMillisecondTick()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5aec52f8f5e5b85acacfb41a4a437593"></a><!-- doxytag: member="system&#45;timer.h::halCommonGetInt16uQuarterSecondTick" ref="ga5aec52f8f5e5b85acacfb41a4a437593" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16u halCommonGetInt16uQuarterSecondTick </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current system time in quarter second ticks, as a 16-bit value. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The least significant 16 bits of the current system time, in system ticks multiplied by 256. </dd></dl>

<p>Definition at line <a class="el" href="a01019_source.html#l00040">40</a> of file <a class="el" href="a01019_source.html">system-timer.c</a>.</p>

<p>References <a class="el" href="a01019_source.html#l00050">halCommonGetInt32uMillisecondTick()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7033d63e4ee56452e3e6c67d49f01ef2"></a><!-- doxytag: member="system&#45;timer.h::halCommonGetInt32uMillisecondTick" ref="ga7033d63e4ee56452e3e6c67d49f01ef2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32u halCommonGetInt32uMillisecondTick </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current system time in system ticks, as a 32-bit value. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The least significant 32 bits of the current system time, in system ticks.</dd></dl>
<p>Returns the current system time in system ticks, as a 32-bit value.</p>
<p>With 1024 clock ticks per second, a single clock tick occurs every 0.9769625 milliseconds, and a rollover of the 32-bit <a class="el" href="a00086.html" title="A timer.">timer</a> occurs approximately every 48.5 days. </p>

<p>Definition at line <a class="el" href="a01019_source.html#l00050">50</a> of file <a class="el" href="a01019_source.html">system-timer.c</a>.</p>

<p>Referenced by <a class="el" href="a01019_source.html#l00035">halCommonGetInt16uMillisecondTick()</a>, and <a class="el" href="a01019_source.html#l00040">halCommonGetInt16uQuarterSecondTick()</a>.</p>

</div>
</div>
<a class="anchor" id="gae0b935fd7ac5ee0070e31fb43bf82fba"></a><!-- doxytag: member="system&#45;timer.h::halInternalStartSystemTimer" ref="gae0b935fd7ac5ee0070e31fb43bf82fba" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16u halInternalStartSystemTimer </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the system tick. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Time to update the async registers after RTC is started (units of 100 microseconds). </dd></dl>

<p><p>ENABLE_OSC32K </p>
</p>

<p>Definition at line <a class="el" href="a01010_source.html#l00074">74</a> of file <a class="el" href="a01010_source.html">micro-common.c</a>.</p>

<p>References <a class="el" href="a00997_source.html#l00060">halInternalCalibrateSlowRc()</a>.</p>

<p>Referenced by <a class="el" href="a01011_source.html#l00023">halInit()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Mon Apr 11 14:23:57 2011 for Contiki 2.5 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
